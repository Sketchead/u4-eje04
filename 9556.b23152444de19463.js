"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9556],{9556:(x,u,e)=>{e.r(u),e.d(u,{CarritoPageModule:()=>P});var p=e(9808),h=e(4182),i=e(4153),l=e(4740),g=e(655),t=e(5e3),C=e(186);function m(r,a){if(1&r){const o=t.EpF();t.TgZ(0,"ion-card")(1,"ion-row",4),t.NdJ("click",function(){const s=t.CHM(o).$implicit,d=t.oxw();return t.KtG(d.getProductById(s.producto.id))}),t._UZ(2,"img",5),t.TgZ(3,"ion-card-header")(4,"ion-card-title"),t._uU(5),t.qZA(),t.TgZ(6,"ion-card-subtitle"),t._uU(7),t.qZA(),t._UZ(8,"hr"),t._uU(9),t._UZ(10,"br"),t._uU(11),t.TgZ(12,"ion-button",6),t.NdJ("click",function(c){const d=t.CHM(o).index,v=t.oxw();return c.stopPropagation(),t.KtG(v.presentAlert(d))}),t._UZ(13,"ion-icon",7),t.qZA()()()()}if(2&r){const o=a.$implicit;t.xp6(2),t.s9C("src",o.producto.photo,t.LSH),t.xp6(3),t.Oqu(o.producto.product),t.xp6(2),t.hij("Precio unitario: $",o.producto.precio,""),t.xp6(2),t.hij(" ",o.producto.descripcion," "),t.xp6(2),t.hij(" Cantidad: ",o.cantidad," ")}}const f=[{path:"",component:(()=>{class r{constructor(o,n,c){this.productService=o,this.alertController=n,this.router=c,this.total=0,this.handlerMessage="",this.carrito=this.productService.getCart(),this.carrito.forEach(s=>this.total+=s.producto.precio*s.cantidad)}presentAlert(o){return(0,g.mG)(this,void 0,void 0,function*(){const n=yield this.alertController.create({header:"\xbfQuiere borrar un producto del carrito?",buttons:[{text:"No",role:"cancel",handler:()=>{this.handlerMessage="Alert canceled"}},{text:"S\xed",role:"confirm",handler:()=>{this.total-=this.carrito[o].producto.precio,this.removeFromCart(o)}}]});yield n.present(),yield n.onDidDismiss()})}removeFromCart(o){1==this.carrito[o].cantidad?this.carrito.splice(o,1):this.carrito[o].cantidad-=1}getProductById(o){this.router.navigate(["view-product"],{queryParams:{pos:o}})}ngOnInit(){}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(C.U),t.Y36(i.Br),t.Y36(l.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-carrito"]],decls:13,vars:2,consts:[["slot","start"],[4,"ngFor","ngForOf"],[1,"ion-float-right"],["name","cash-outline","color","success"],[3,"click"],["width","200","height","200",3,"src"],["fill","clear",3,"click"],["color","danger","name","trash-outline"]],template:function(o,n){1&o&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"Carrito"),t.qZA()()(),t.TgZ(6,"ion-content"),t.YNc(7,m,14,5,"ion-card",1),t.qZA(),t.TgZ(8,"ion-footer")(9,"ion-chip",2),t._UZ(10,"ion-icon",3),t.TgZ(11,"ion-label"),t._uU(12),t.qZA()()()),2&o&&(t.xp6(7),t.Q6J("ngForOf",n.carrito),t.xp6(5),t.hij("Total: $",n.total,""))},dependencies:[p.sg,i.oU,i.YG,i.Sm,i.PM,i.Zi,i.tO,i.Dq,i.hM,i.W2,i.fr,i.Gu,i.gu,i.Q$,i.Nd,i.wd,i.sr,i.cs]}),r})()}];let Z=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[l.Bz.forChild(f),l.Bz]}),r})(),P=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[p.ez,h.u5,i.Pc,Z]}),r})()}}]);